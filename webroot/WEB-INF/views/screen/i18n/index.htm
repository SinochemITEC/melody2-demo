melody国际化除了action层异常信息,不使用标准java资源文件<br/>
#if($vlocale.isLocale('zh','CN'))
<a class="m-detail-link" href="$appServer/locale/change.htm?locale=en_US">to engish</a>
#else
<a class="m-detail-link" href="$appServer/locale/change.htm?locale=zh_CN">回中文</a>
#end
vm上国际化有两种方法:<br/>
1.vm本身国际化,比如 index.vm(缺省),index_zh_CN.vm(中文简体),index_zh_TW(中文繁体)<br/>
国际化的可以是screen,layout,contain,遵循以下规则如果当前访问者对应的 $view_$language_$country.$suffix 存在则使用此模板,否则使用$view.suffix
<br/>
需要注意的是vm的编码,如果有除中,英文外的语言化,vm尽量使用utf-8
<br/>
2.在vm上使用map结构描述国际化消息,比如以下输出在中文和英文选择下会不同:
$vlocale.i18n({'zh_CN':'我是中文哈','en_US':'i am engish!'})
<br/>
注意的是如果当前用户没有locale(异常情况,一般不应该发生)时,或者当前对应的locale以及缺省locale都没有在参数中出现,则得到空字符串
<br/>
<hr/>
页面错误信息显示请看用户注册这个用例的用户名输入,注意此例子中,资源文件编码非标准java的iso-8859-1并且需要转码,而是使用utf-8作为文件编码
<br/>
<hr/>
如果在velocoty中配置了LocaleReferenceInsertionEventHandler,则会自动调用LocaleRender做国际化输出,比如:${cb.nameLocale}(CommonBean)

<script>
    function switchLanguage(lang)  {
        document.cookie= "_l_="+lang+";domain=127.0.0.1;path=/;";
        window.location.reload();
    }
</script>